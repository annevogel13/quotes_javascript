<!DOCTYPE html>
<html>
<body>

<h1>Test pagina</h1>


<table id="table">

</table>
</body>
</html>

<script>

const apiKey = "5f8ba44f-1ba2-4d31-91fe-8b4e37a70279";

// fonctionalite 1 --> deel 1 
const tableaux = new Array();
tableaux[0] = [1,2,3]; 
tableaux[1] = [4,5,6];
tableaux[2] = [7,8,9]; 
//console.log(tableaux);

const cit = new Array(); 
cit[0] = ['Ralph Wiggum',  'They taste like...burning.']; 
cit[1] = ['Frank Grimes', 'I live in a single room above a bowling alley...and below another bowling alley.'];
cit[2] = ['Rainier Wolfcastle', 'My eyes! The goggles do nothing!' ];
              
                
function fetchCitations(){
  return fetch("https://lifap5.univ-lyon1.fr/citations", {headers : { "x-api-key" : apiKey}})
      .then((response) => response.json())
      .then((jsonData) => {
        if (jsonData.status && Number(jsonData.status) != 200) {
          return { err: jsonData.message };
        }
        return jsonData;
      })
      .catch((erreur) => ({ err: erreur }));
  }

function citations(){
  console.log("CALL citations()")
  const numero = "-";
  return fetchCitations(data => creerUneLigneDansLeTableau(data, numero)); 
  
}

     // console.log(n); 
     // console.log("quote : " + Object.values(n)[1]); 
     // const obj = new Object();
      //const obj = {"quote": Object.values(n)[1], "charactere": Object.values(n)[2]}; 


function creerUnePlusieursLignes(tableaux, numero){
  return tableaux.map(n => '<tr>' + "<th>" + numero +"</th>" + creerUneLigneDansLeTableau(n) + '</tr>').join(' '); 
}

function creerUneLigneDansLeTableau(tab){
  return tab.map(n => '<th>' + n + '</th>').join(' ');
}  



function sortQuoteAZ(a,b){
    const elementA = a.quote;
    const elementB = b.quote
 
    if(elementA < elementB){
      return -1; 
    } else if(elementA > elementB){
              return 1; 
    }else return 0 ; 
}

function sortQuoteZA(a,b){
  const elementA = a.quote;
  const elementB = b.quote;

  if(elementA > elementB){
    return -1; 
  } else if(elementA < elementB){
            return 1; 
  }else return 0 ; 
}



const help = fetch();
console.log(help);  
const test = citations();  
console.log(test); 
//console.log(test); 
document.getElementById("table").innerHTML = test.PromiseResult; 

</script> 



